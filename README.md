# LalaPad mini
<br/>

![lalapadmini](https://github.com/user-attachments/assets/c998a442-ef7e-4273-ba6b-d01c2d694bd2)

<br/>

![image](https://github.com/user-attachments/assets/081eccc1-eae2-4fe5-b4a0-a401a39d4375)





<br/><br/>
本キーボードは[LalaPad](https://github.com/ShiniNet/LalaPad)の特徴を踏襲しつつ、さらなる小型化を目指した左右分割型無線トラックパッドキーボードです！
<br/>




## 特徴
- **無線/有線**
- **トラックパッド＆エンコーダー 左右換装可**
- **オーソリニア配列**
- **17mm狭ピッチ**
- **薄い（全高17mm**
- **軽い （全部入りで192g**
- **大容量バッテリー最大500mah**
- **ネジ不使用**
- **簡易ガスケットマウントによる打鍵感の向上**
- **マイコンの交換が簡単**
- **ケースの3D公開＆ユーザーによる生産と販売の許諾**

## スペックなど
- 外寸 H17mm × W113mm× D84mm
- 重量 192g（Deepsea Silent Minix38個、500mahバッテリー搭載時）
- Keycapサイズ H5mm x W16mm x D16mm Choc V2 Keyswitch互換

## 製品の詳細
### [販売ページ](https://shininet.booth.pm/items/6898829)

### [ビルドガイド](doc/BuildGuide.md)

### [ファームウェア](https://github.com/ShiniNet/zmk-config-LalaPadmini)

### 3Dモデルデータのダウンロード
- [キーボードケース](https://makerworld.com/en/models/1492146-keyboard-cases-for-lalapad-mini#profileId-1559844)
- [キーキャップ](https://makerworld.com/en/models/1500836-choc-v2-ultra-thin-keycaps-17mm#profileId-1570006)
  
## 工事設計認証(技適)番号
- ユーザーが調達するMCUモジュール販売元の記載をご確認ください

## SIG認証について
- 本商品は使用できる状態の無線モジュールを含まない自作キットですので、基本的には認証の対象外となります。  

<br/><br/>
  
## 使い方・機能
### [キーボードの使い方/キーマップの変更](doc/HowToUse.md)

### デフォルトキーマップ
- デフォルトレイヤー（Windows向け）
- セカンダリレイヤー（左：数字&ファンクション、右：テンキー）
- ターシャリレイヤー（左：記号、右：カーソル操作等）
- システムレイヤー（無線接続先選択＆プロファイルクリア、ブートローダーEtc…）
  
> [!TIP]
> - ESC,TAB,WINは表記のある隣り合ったキーを同時押しすることで出力されます。
> - 長押しによって下段に小文字で表記されたキーが出力されます。
> - Backspaceキーは1回単押しでBackspace単発出力、1回目ホールドでレイヤーキー出力、2連打目のホールドでBackspaceが長押し出力されます。
> - システムレイヤーはLayer2と3キーの同時押しによって切り替わります。

![2025-06-10_11h39_30](https://github.com/user-attachments/assets/1c1f5b5e-3717-4fc3-89dd-dbfd15051aed)

### トラックパッドの機能
- マウスポインターの操作
- カーソル操作でマウスレイヤーに自動切替
- マウススクロールモード
- 低速モード
  
> [!TIP]
> TAPボタンは短く左クリックを出力します。これによりAMLでありがちなドラッグの誤爆が減ります。

 ![2025-06-10_12h32_49](https://github.com/user-attachments/assets/4d63fca9-f7e8-4c8e-a100-b25c22694613)


<br/><br/>

## よくある質問

**Q: バッテリーの持ちはどれくらいですか？**  
A: 500mahバッテリー搭載で、セントラル側が毎日デスクワークに使用して1~2週間のバッテリー持ちを確認しています。周辺側はこれの更に数倍持つと思われます。

**Q: どんなOSに対応していますか？**  
A: ZMKファームウェアが対応している各OS（Windows,Linux,Android,macOS,iOS）のキーコードが利用可能です。詳しくは[ZMKキーコードリスト](https://zmk.dev/docs/keymaps/list-of-keycodes)

**Q: 日本語配列に対応していますか？**  
A: ZMKはUS配列を前提にしたファームウェアです。一応日本語配列向けのキーコード（INT1-5、変換、無変換など）は定義されているようですが検証が不十分です。貢献をお待ちしております。

**Q: レイヤー数は増やせますか？**  
A: 基本的にはハードウェアのメモリが許す限りいくらでも増やす事ができます。

**Q: トラックパッドでタップ（左クリック）操作はできますか？**  
A: 可能です。ファームウェアの設定を変更することで機能を有効化できます。

**Q: デュアルトラックパッド化できますか？**  
A: 可能です。左手側のエンコーダーモジュールを取り外しキーボードとトラックパッドをFFCケーブル12PINで接続したらキーボードを再起動してください。追加のトラックパッドモジュールとFFCケーブルはユーザーご自身で用意して頂く必要があります。
　　※セントラル側と比較して5ms程度レスポンスが低下する可能性があります。j
  
**Q: なんでデフォルトキーマップに数字キーが２系統存在するんですか？無意味では？**  
A: いくつかのアプリではこれらのキーが区別して扱われるからです。少なくともBlenderではテンキーは視点操作などで頻繁に使用する為、代替の効かないキーとなっています。
<br/><br/>
  
**Q: 組立中に基盤or部品を破損してしまいました。基板または部品だけの再購入は可能ですか？**  
A: 可能です。ショップオーナーにご相談ください。部品代の他に国際配送料がかかることを予めご了承ください。または[BOM](doc/partsList.md)を参考にユーザー自身でパーツを調達することもできます。
　※基板を交換する場合、お手元にある基盤の返送をお願いする場合があります。

<br/><br/>



## トラブルシューティング

**Q: 無線接続でデバイスとのペアリングができません**  
A0:　セントラル（右手側）⇒周辺（左手側）の順でキーボードの電源をONにして、PC等デバイス側で周囲の無線機器を検索し、"Lalapadmini"という機器が表示されるのを確認したらそれを選択し、接続してください。

A1:　マイコンのリセットボタンを押して、デバイスと再接続してみてください。

A2:　PCとキーボード双方のペアリング情報を一旦削除（BLE_CLR_ALL）して、再度デバイスとペアリングしてみてください。

A3:　それでも上手く行かない場合（上記が良く分からない場合）、[リセット用ファームウェア]()を左右のキーボードに書き込み初期化したのち、もう一度ファームウェアを書き込んでみて再接続してみてください。

A4:　それでも上手くいかない場合、別の無線機器（スマホなど）との接続を検証してキーボードの問題かどうかを切り分けしてみてください。

A5:　電源投入時にLEDインジケーターが点灯しているかどうかを確認してください。点灯しない場合、マイコンが通電していない可能性がありますので、はんだづけの不良をチェックしてください。

**Q: 左手側のキーボードが動作しません**  
A1:　右手用キーボードの電源をONにしてから左手キーボードを使用してください。左手側は右手側（セントラル）を経由してPC等デバイスと接続している為です。

A2:　左右キーボードのペアリングに失敗している可能性があります。一度双方の電源を落とし、右手側⇒左手側の順番で電源をONにしてみてください。

A3:　それでも上手く行かない場合、[リセット用ファームウェア](https://github.com/ShiniNet/LalaPad/blob/main/firmware/FirmwearReset.uf2)を左右のキーボードに書き込み初期化したのち、もう一度ファームウェアを書き込んでみて再接続してみてください。


**Q: 無線接続が不安定です**  
A1:　マイコンのリセットボタンを押して、デバイスと再接続してみてください。

A2:　PC側のBLEドングルとキーボードの間に大きな金属製の物を置かないように（モニターなど）してください。

A3:　集合住宅やオフィスなど混線しやすい環境ではUSB接続による使用を推奨します。

**Q: 入力したキーに対してPC側で異なるキーが出力されます**  
A1:　本キーボードはデフォルトでUS配列になっています。お使いのPC等デバイスのキーボード設定が日本語配列モードになっている場合、US配列モードに変更してからご使用ください。

**Q: トラックパッドの初動がもたつきます**  
A1:　約5分間キーボードが操作されないとキーボードがアイドル状態に入り、トラックパッドがスリープします。再アクティブ化には0.3秒前後かかる仕様です。閾値は変更可能です。

**Q: トラックパッドの動作が不安定になるときがあります**  
A1:　本キーボードは静電容量式トラックパッドを採用しています。周囲からの電磁ノイズやキャリブレーションのズレにより動作が不安定になる場合があります。その場合、マイコンのリセットボタンを押してキーボードを再起動するか、スイッチをOFFにして電荷を十分に抜いてからONにしてください。起動時にトラックパッドが再キャリブレーション(0.1秒)されます。※キャリブレーション中にトラックパッドに触れるとキャリブレーションが正しく行われない可能性があります。  
A2:　一般的な静電容量パネル（スマホ等）でありがちなゴーストタッチ対策をお試しください。  
A3:　手指の乾燥度合いやトラックパッドに装飾用のカバーやシール等を装着している場合、感度が鈍くなることがあります。その場合[センサー感度を上げる](https://github.com/ShiniNet/LalaPad/blob/main/doc/EditFirmwareDirectly.md#%E3%83%88%E3%83%A9%E3%83%83%E3%82%AF%E3%83%91%E3%83%83%E3%83%89%E3%81%AE%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E6%84%9F%E5%BA%A6%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B)ことで改善することがあります。  
A4:  逆にカーソルが頻繁に飛ぶなど感度が高すぎる場合は、センサー感度を下げると改善することがあります。

**Q: キーボードの初動がもたつきます**  
A1:　約１時間キーボードが操作されないとキーボードがスリープ状態に入り、無線接続が解除されます。再アクティブ化に５秒前後かかる仕様になっています。閾値は変更可能です。
  
多くのトラブルは、他のZMKファームウェアを搭載するキーボードと共通しますので、ZMKが提供する[トラブルシューティングのドキュメント](https://zmk.dev/docs/troubleshooting )が役立ちます。
<br/><br/>

## 注意事項・免責
- 本キーボード自作キットは個人が趣味で開発した作品を頒布しているものであり、またユーザー自身がバッテリー等部品の選定や組み立てを行うという性質上、完成品に対して一般的な製品のような品質や安全性は保障されておらず、十分なサポートや保障を得られない可能性がある事をよく理解し、自己責任でご利用ください。
- 明らかな初期不良や、部品の欠品などがあった場合は販売元へBoothのメッセージよりお問い合わせください。※欠品部品や交換品の手配については購入履歴のあるBoothアカウントによるお問い合わせである事が条件となります。
- [リポバッテリーの取り扱いにおける一般的な注意事項](https://www.baj.or.jp/battery/safety/safety16.html)を遵守してください。
- 同梱のケースは家庭用3Dプリンターによる出力品の為、嵌め込み部分など使用者の手元で研磨が必要になる場合があります。予めご了承ください。
- 配布している3Dデータは家庭用FDM方式の3Dプリンターに最適化された物であり、発注先や使用される素材や印刷方式によって出力品の特性はわずかに異なることから、すべてのケースにおいて適合を保証するものではありません。各自で調整の上、自己責任でご利用ください。
- 地理的な事情により開発者による物理的なサポートが制限されることを予めご了承ください（往復の国際配送料がかかる為、修理の受付が現実的ではない等）。その代わり修理部品の調達先の案内や、組立や修理を請け負ってくださる個人様の紹介など、できる限りのサポートをさせて頂きます！
<br/><br/>

## CREDITS

### INSPIRATION  
This keyboard layout is inspired by the **Corne** series, known for its split ergonomic design.  
The idea of placing a pointing device under the thumbs comes from the **Keyball** series.  
I also took cues from fully-featured ZMK keyboards like the **Totem** and **roBa** in terms of structure and configuration.

### FIRMWARE  
Huge thanks to the people behind the ZMK project:  
- [Pete Johanson](https://github.com/petejohanson)  
- [Cem Aksoylar](https://github.com/caksoylar)  
- And all the [ZMK Contributors](https://github.com/zmkfirmware/zmk/graphs/contributors)
