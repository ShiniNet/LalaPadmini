# ビルドガイド

> [!TIP]
> Github右上のリストボタン押下で目次（アウトライン）が表示され、工程全体を把握しやすくなります。
![2025-03-06_06h52_32](https://github.com/user-attachments/assets/600b59ae-39ec-4d79-b8a6-39246b630301)

　
## 準備
### キット内容物の確認

| 名前 | 数 |
|:-|:-|
|PCB（左右＋エンコーダ基板）|1式|
|XIAOtoFPCコンバーター|4枚|
|トラックパッドモジュール|1個|
|ロータリーエンコーダー|1個|
|エンコーダーノブ|1個|
|ホットスワップソケット|38個|
|17mm狭ピッチキーキャップ|38個|
|FFC（フレキシブルフラットケーブル）12PIN|1個|
|FFC（フレキシブルフラットケーブル）5PIN|1個|
|キーボードケース|1式|


![2025-03-07_06h03_27](https://github.com/user-attachments/assets/d0671da1-67af-4749-8326-778872f7eb3c)
<br/><br/><br/>
### 別途ご用意いただくもの

| 必須 | 名前 | 数 | 備考 |参考商品|
|:-|:-|---:|:-|:-|
|★|Seeed Studio XIAO nRF52840 |2個|マイコン本体。安価で入手性が高く、通信も安定しています。|[秋月電子](https://akizukidenshi.com/catalog/g/g117341/)|
|★|Kailh Choc V2互換スイッチ|38個|個人的にDeepSeaMiniがおすすめ。Lofreeなども適合。ChocV1も一応刺さります。|[遊舎工房](https://shop.yushakobo.jp/collections/all-switches/Kailh-Choc-V2%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81) [Kailhswitch](https://kailhswitch.net/products/kailh-deep-sea-silent-min-low-profile-keyboard-switch)|
|★|3.7Vリチウムポリマーバッテリー|2個|コネクタピッチ1.25mm、外寸厚さ6.3mm以下、長さ41mm以下、幅20mm以下。 型番としては602040もしくは602035タイプが適合します。容量は300～500mahの製品を確認済み）|[Amazon](https://www.amazon.co.jp/dp/B0D5CJLPM9/)|
|★|USB-Cケーブル|2本|充電、ファームウェア書き込み用。何百回と抜き差しする事になるのでマグネット式がおすすめ。||

### 道具類

|必須| 名前 | 備考 |参考商品|
|:-|:-|:-|:-|
|★|はんだごてセット|アマゾンの温度調整付きはんだごて改善版15点セット（ピンセット、はんだ吸い取り線、フラックス、３C型のこて先入り）がおすすめ。|[amazon](https://www.amazon.co.jp/dp/B0CM1WJB5X/)|
||フラックスクリーナー|フラックスで基板がべとべとになるので掃除用。||
||ピンセット|はんだ中のパーツ固定用。||
||ニッパー|基板の分離用。||
||テスター|あると電源投入前に配線のショートをチェックできるので怖さが減ります。またトラブル発生時の問題の特定や、サポートのやりとりするために大変有用となっています。ワニ口タイプなら細いピン等を掴む事で細かい端子までチェックができます。|[amazon](https://www.amazon.co.jp/dp/B09S6Y9RM6/)|

※参考商品は全てアフィリエイトの含まれない直リンクです

※参考商品はあくまで参考であり、全ての商品が検証済みではないことにご注意ください


　
## PCBの組み立て
### PCBの分離
- ニッパー等で赤丸で囲ったライナー部分をカットします。（素手でも折れると思います

### ホットスワップソケットのはんだづけ
- PCBの裏面の左右合計48箇所へホットスワップソケットを取り付けていきます。
- 温調はんだごてを使用している場合、大体３３０度ぐらいの温度設定にしておきます。 ※ご使用されるはんだに合わせて適宜調整してください。
- コテ先は2Cか3Cがおすすめ。体積が十分にあり、角度を調整すれば細かく扱うことも可能です。 ※標準装備の細いこて先は一見扱いやすそうに見えますが、パーツを十分に加熱できずはんだが弾かれやすいので非推奨です

> [!WARNING]
> - ソケットの向きに注意してください。ソケットのでっぱりとPCBのマークが一致するように。
> - はんだはたっぷり目で溶接してください。キースイッチ着脱中にソケットが脱落する原因になります。

### ロータリーエンコーダーのはんだづけ
- PCBの表面からエンコーダーを差し込み、裏面から5か所はんだづけします。
### マイコンにFPCコンバーターのはんだづけ

### 基板へFPC（フレキシブルフラットケーブル）の取り付け
### 基板へマイコン（FPC）の取り付け

## 動作確認
### 仮でトラックパッドとエンコーダーをFFCに接続
### マイコンへファームウェアの書き込み
### 動作確認

## キーボードケースの組み立て
### 基板へバッテリーの取り付け
### ボトムプレートにTPUマウントパーツと基板とスイッチカバーをセットする
### トッププレートをかぶせて装着する
### マイコンカバーを取り付ける

<br/><br/><br/>

# 完成！！

> [!TIP]
> [使い方](https://github.com/ShiniNet/LalaPad#%E4%BD%BF%E3%81%84%E6%96%B9)を参考に、楽しい自作キーボードライフを満喫してください！


<br/><br/><br/>

# 組立のトラブルシューティング

- DiscordのHelpチャンネルでも過去のトラブルの事例を確認することができますので、是非ご参加ください！ <BR/>
  ※招待コードはパッケージに同梱されています
- キーボードの使用方法や接続に関するトラブルシューティングは[こちら](https://github.com/ShiniNet/LalaPadmini/tree/main#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0)

<br/><br/>

## マイコンが起動しない
## バッテリーから給電されない充電されない

## 特定のキーが動作しない
### 行単位でキーが動作しない（ASDFGがまるごと動作しないなど）
### 列単位でキーが動作しない（EDCがまるごと動作しないなど）
### 特定の１キーが反応しない
- ホットスワップソケットのはんだづけを確認
- キースイッチのピンが折れ曲がって挿入されていないか確認
- PC側の物理配列がUSモードになっているか確認
- 割り当てしているキーコードを変更して動作するか確認

## トラックパッドが動作しない
- キーボードの電源再投入して改善するか確認
- USB接続では動作するか確認
- FFC（フレキシブルフラットケーブル）がねじれて反転して接続されていないか確認
- 左右付け替えて動作するか確認
- マイコンのはんだづけ確認
  
## ロータリーエンコーダーが動作しない
- エンコーダーのはんだづけ確認
- マイコンのはんだづけ確認
